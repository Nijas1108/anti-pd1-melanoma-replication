"1","
<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuXG5saWJyYXJ5KG1hZnRvb2xzKVxubGlicmFyeShkcGx5cilcblxuIyAxLiBEZWZpbmUgdGhlIHR3byBkaXJlY3Rvcmllc1xudWNsYV9kaXIgPC0gXCIvcmRzL3Byb2plY3RzL2UvZWxoYW1zYWstZ3JvdXA1L21haW5fcHJvamVjdC9hbm5vdGF0aW9uL3VjbGFfcHJvY2Vzc2VkX2JlZFwiXG52YW5keV9kaXIgPC0gXCIvcmRzL3Byb2plY3RzL2UvZWxoYW1zYWstZ3JvdXA1L21haW5fcHJvamVjdC9hbm5vdGF0aW9uL3ZhbmRlcmJpbHRfcHJvY2Vzc2VkX2JlZFwiIFxuXG4jIC0tLS0gQ29sbGVjdCBhbGwgTUFGIGZpbGVzIC0tLS1cbm1hZl9maWxlcyA8LSBjKFxuICBsaXN0LmZpbGVzKHVjbGFfZGlyLCAgcGF0dGVybiA9IFwiXFxcXC5tYWYkXCIsIGZ1bGwubmFtZXMgPSBUUlVFKSxcbiAgbGlzdC5maWxlcyh2YW5keV9kaXIsIHBhdHRlcm4gPSBcIlxcXFwubWFmJFwiLCBmdWxsLm5hbWVzID0gVFJVRSlcbilcblxuY2F0KFwiVG90YWwgTUFGIGZpbGVzIGZvdW5kOlwiLCBsZW5ndGgobWFmX2ZpbGVzKSwgXCJcXG5cIilcbmBgYCJ9 -->

```r

library(maftools)
library(dplyr)

# 1. Define the two directories
ucla_dir <- \"/rds/projects/e/elhamsak-group5/main_project/annotation/ucla_processed_bed\"
vandy_dir <- \"/rds/projects/e/elhamsak-group5/main_project/annotation/vanderbilt_processed_bed\" 

# ---- Collect all MAF files ----
maf_files <- c(
  list.files(ucla_dir,  pattern = \"\\.maf$\", full.names = TRUE),
  list.files(vandy_dir, pattern = \"\\.maf$\", full.names = TRUE)
)

cat(\"Total MAF files found:\", length(maf_files), \"\n\")
```

<!-- rnb-source-end -->
"
"0","```r

library(maftools)
library(dplyr)

# 1. Define the two directories
ucla_dir <- \"/rds/projects/e/elhamsak-group5/main_project/annotation/ucla_processed_bed\"
vandy_dir <- \"/rds/projects/e/elhamsak-group5/main_project/annotation/vanderbilt_processed_bed\" 

# ---- Collect all MAF files ----
maf_files <- c(
  list.files(ucla_dir,  pattern = \"\\.maf$\", full.names = TRUE),
  list.files(vandy_dir, pattern = \"\\.maf$\", full.names = TRUE)
)

cat(\"Total MAF files found:\", length(maf_files), \"\n\")
```"
"1","Total MAF files found: 38 
"
"1","
<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuIyAtLS0tIFByb2Nlc3MgZWFjaCBNQUYgLS0tLVxuYWxsX21hZnNfbGlzdCA8LSBsYXBwbHkobWFmX2ZpbGVzLCBmdW5jdGlvbihmaWxlX3BhdGgpIHtcbiAgXG4gIGRhdCA8LSByZWFkLmRlbGltKGZpbGVfcGF0aCwgY29tbWVudC5jaGFyID0gXCIjXCIsIHN0cmluZ3NBc0ZhY3RvcnMgPSBGQUxTRSlcbiAgXG4gICMgRXh0cmFjdCBib3RoIElEcyBmcm9tIGZpbGVuYW1lXG4gIGZuYW1lIDwtIGJhc2VuYW1lKGZpbGVfcGF0aClcbiAgIyByZW1vdmVzIGV2ZXJ5dGhpbmcgc3RhcnRpbmcgZnJvbSB0aGUgZmlyc3QgZG90IGFuZCBzcGxpdCBieSBcIl92c19cIlxuICBpZHMgPC0gdW5saXN0KHN0cnNwbGl0KGNsZWFuX25hbWUgPC0gZ3N1YihcIlxcXFwuLipcIiwgXCJcIiwgZm5hbWUpLCBcIl92c19cIikpXG4gIFxuICB0dW1vcl9pZCAgPC0gaWRzWzFdXG4gIG5vcm1hbF9pZCA8LSBpZHNbMl1cbiAgXG4gICMgUmVwbGFjZSBCT1RIIGJhcmNvZGVzXG4gIGRhdCRUdW1vcl9TYW1wbGVfQmFyY29kZSAgPC0gdHVtb3JfaWRcbiAgZGF0JE1hdGNoZWRfTm9ybV9TYW1wbGVfQmFyY29kZSA8LSBub3JtYWxfaWRcbiAgXG4gICMgVHJhY2sgY29ob3J0IHNvdXJjZVxuICBkYXQkQ29ob3J0IDwtIGlmZWxzZShncmVwbChcIlVDTEFcIiwgZmlsZV9wYXRoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgXCJVQ0xBXCIsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiVkFOREVSQklMVFwiKVxuICBcbiAgcmV0dXJuKGRhdClcbn0pXG5cbiMgLS0tLSBNZXJnZSAtLS0tXG5jb21iaW5lZF9kZiA8LSBkby5jYWxsKHJiaW5kLCBhbGxfbWFmc19saXN0KVxuXG5jYXQoXCJUb3RhbCB2YXJpYW50cyBhZnRlciBtZXJnZTpcIiwgbnJvdyhjb21iaW5lZF9kZiksIFwiXFxuXCIpXG5gYGAifQ== -->

```r
# ---- Process each MAF ----
all_mafs_list <- lapply(maf_files, function(file_path) {
  
  dat <- read.delim(file_path, comment.char = \"#\", stringsAsFactors = FALSE)
  
  # Extract both IDs from filename
  fname <- basename(file_path)
  # removes everything starting from the first dot and split by \"_vs_\"
  ids <- unlist(strsplit(clean_name <- gsub(\"\\..*\", \"\", fname), \"_vs_\"))
  
  tumor_id  <- ids[1]
  normal_id <- ids[2]
  
  # Replace BOTH barcodes
  dat$Tumor_Sample_Barcode  <- tumor_id
  dat$Matched_Norm_Sample_Barcode <- normal_id
  
  # Track cohort source
  dat$Cohort <- ifelse(grepl(\"UCLA\", file_path),
                       \"UCLA\",
                       \"VANDERBILT\")
  
  return(dat)
})

# ---- Merge ----
combined_df <- do.call(rbind, all_mafs_list)

cat(\"Total variants after merge:\", nrow(combined_df), \"\n\")
```

<!-- rnb-source-end -->
"
"0","```r
# ---- Process each MAF ----
all_mafs_list <- lapply(maf_files, function(file_path) {
  
  dat <- read.delim(file_path, comment.char = \"#\", stringsAsFactors = FALSE)
  
  # Extract both IDs from filename
  fname <- basename(file_path)
  # removes everything starting from the first dot and split by \"_vs_\"
  ids <- unlist(strsplit(clean_name <- gsub(\"\\..*\", \"\", fname), \"_vs_\"))
  
  tumor_id  <- ids[1]
  normal_id <- ids[2]
  
  # Replace BOTH barcodes
  dat$Tumor_Sample_Barcode  <- tumor_id
  dat$Matched_Norm_Sample_Barcode <- normal_id
  
  # Track cohort source
  dat$Cohort <- ifelse(grepl(\"UCLA\", file_path),
                       \"UCLA\",
                       \"VANDERBILT\")
  
  return(dat)
})

# ---- Merge ----
combined_df <- do.call(rbind, all_mafs_list)

cat(\"Total variants after merge:\", nrow(combined_df), \"\n\")
```"
"1","Total variants after merge: 134383 
"
"1","
<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuIyAtLS0tIEJ1aWxkIE1BRiBvYmplY3QgLS0tLVxubWVyZ2VkX21hZiA8LSByZWFkLm1hZihtYWYgPSBjb21iaW5lZF9kZixcbiAgICAgICAgICAgICAgICAgICAgICAgY2xpbmljYWxEYXRhID0gY2xpbmljYWxfZGYpXG5gYGAifQ== -->

```r
# ---- Build MAF object ----
merged_maf <- read.maf(maf = combined_df,
                       clinicalData = clinical_df)
```

<!-- rnb-source-end -->
"
"0","```r
# ---- Build MAF object ----
merged_maf <- read.maf(maf = combined_df,
                       clinicalData = clinical_df)
```"
"1","-Validating
--Non MAF specific values in Variant_Classification column:
  START_CODON_SNP
  DE_NOVO_START_OUT_FRAME
  DE_NOVO_START_IN_FRAME
  COULD_NOT_DETERMINE
-Silent variants: 90277 
-Summarizing
--Possible FLAGS among top ten genes:
  TTN
  MUC16
  NEB
-Processing clinical data
-Finished in 2.411s elapsed (2.309s cpu) 
"
