"0",""
"0","library(maftools)"
"0","library(dplyr)"
"0",""
"0","# 1. Define the two directories"
"0","ucla_dir <- ""/rds/projects/e/elhamsak-group5/main_project/annotation/ucla_processed_bed"""
"0","vandy_dir <- ""/rds/projects/e/elhamsak-group5/main_project/annotation/vanderbilt_processed_bed"" "
"0",""
"0","# ---- Collect all MAF files ----"
"0","maf_files <- c("
"0","  list.files(ucla_dir,  pattern = ""\\.maf$"", full.names = TRUE),"
"0","  list.files(vandy_dir, pattern = ""\\.maf$"", full.names = TRUE)"
"0",")"
"0",""
"0","cat(""Total MAF files found:"", length(maf_files), ""\n"")"
"1","Total MAF files found:"
"1"," "
"1","38"
"1"," "
"1","
"
"0","# ---- Process each MAF ----"
"0","all_mafs_list <- lapply(maf_files, function(file_path) {"
"0","  "
"0","  dat <- read.delim(file_path, comment.char = ""#"", stringsAsFactors = FALSE)"
"0","  "
"0","  # Extract both IDs from filename"
"0","  fname <- basename(file_path)"
"0","  # removes everything starting from the first dot and split by ""_vs_"""
"0","  ids <- unlist(strsplit(clean_name <- gsub(""\\..*"", """", fname), ""_vs_""))"
"0","  "
"0","  tumor_id  <- ids[1]"
"0","  normal_id <- ids[2]"
"0","  "
"0","  # Replace BOTH barcodes"
"0","  dat$Tumor_Sample_Barcode  <- tumor_id"
"0","  dat$Matched_Norm_Sample_Barcode <- normal_id"
"0","  "
"0","  # Track cohort source"
"0","  dat$Cohort <- ifelse(grepl(""UCLA"", file_path),"
"0","                       ""UCLA"","
"0","                       ""VANDERBILT"")"
"0","  "
"0","  return(dat)"
"0","})"
"0",""
"0","# ---- Merge ----"
"0","combined_df <- do.call(rbind, all_mafs_list)"
"0",""
"0","cat(""Total variants after merge:"", nrow(combined_df), ""\n"")"
"1","Total variants after merge:"
"1"," "
"1","134383"
"1"," "
"1","
"
"0","# ---- Build MAF object ----"
"0","merged_maf <- read.maf(maf = combined_df,"
"0","                       clinicalData = clinical_df)"
"1","-Validating
"
"1","--Non MAF specific values in Variant_Classification column:
"
"1","  START_CODON_SNP
"
"1","  DE_NOVO_START_OUT_FRAME
"
"1","  DE_NOVO_START_IN_FRAME
"
"1","  COULD_NOT_DETERMINE
"
"1","-Silent variants: 90277"
"1"," "
"1","
"
"1","-Summarizing
"
"1","--Possible FLAGS among top ten genes:
"
"1","  TTN
"
"1","  MUC16
"
"1","  NEB
"
"1","-Processing clinical data
"
"1","-Finished in"
"1"," "
"1","2.411s elapsed (2.309s cpu)"
"1"," "
"1","
"
