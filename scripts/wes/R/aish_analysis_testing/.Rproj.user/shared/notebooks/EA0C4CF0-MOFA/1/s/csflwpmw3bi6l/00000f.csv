"0","# 1. Create the lookup, removing NAs from the metadata first"
"0","valid_metadata <- maf_metadata[!is.na(maf_metadata$SRA.Run.ID..tumor.RNA), ]"
"0","id_lookup <- setNames(valid_metadata$Tumor_Sample_Barcode, "
"0","                      valid_metadata$SRA.Run.ID..tumor.RNA)"
"0",""
"0","# 2. Rename RNA-seq Data"
"0","# Find which columns in rna_df actually exist in our lookup"
"0","rna_matches <- intersect(colnames(rna_df), names(id_lookup))"
"0","rna_df_matched <- rna_df[, rna_matches, drop = FALSE]"
"0","colnames(rna_df_matched) <- id_lookup[rna_matches]"
"0",""
"0","# 3. Rename IPRES Data"
"0","# Find which columns in ipres_df actually exist in our lookup"
"0","ipres_matches <- intersect(colnames(ipres_df), names(id_lookup))"
"0","ipres_df_matched <- ipres_df[, ipres_matches, drop = FALSE]"
"0","colnames(ipres_df_matched) <- id_lookup[ipres_matches]"
"0",""
"0","# 4. Final Intersection across ALL 3 Views"
"0","# mut_matrix uses Tumor_Sample_Barcode already"
"0","common_samples <- intersect(colnames(mut_mat), "
"0","                            intersect(colnames(rna_df_matched), "
"0","                                      colnames(ipres_df_matched)))"
"0",""
"0","cat(""Final count of samples present in Mutations, RNA, and IPRES:"", length(common_samples), ""\n"")"
"1","Final count of samples present in Mutations, RNA, and IPRES:"
"1"," "
"1","27"
"1"," "
"1","
"
