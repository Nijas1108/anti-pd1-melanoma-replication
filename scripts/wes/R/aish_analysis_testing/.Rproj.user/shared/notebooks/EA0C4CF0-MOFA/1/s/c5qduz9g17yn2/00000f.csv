"0","# 4. Final View Preparation"
"0","# Subset all views to the 'common_samples'"
"0","mut_view   <- as.matrix(mut_mat[, common_samples, drop = FALSE])"
"0","rna_view   <- as.matrix(rna_df_matched[, common_samples, drop = FALSE])"
"0","ipres_view <- as.matrix(ipres_df_matched[, common_samples, drop = FALSE])"
"0",""
"0","# Filter RNA-seq for high variance (Top 2000 genes)"
"0","# This is standard to remove 'housekeeping' genes that don't vary between patients"
"0","rv <- apply(rna_view, 1, var)"
"0","variant_genes <- names(sort(rv, decreasing = TRUE))[1:min(2000, length(rv))]"
"0","rna_view_filtered <- rna_view[variant_genes, ]"
